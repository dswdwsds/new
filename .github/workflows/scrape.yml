name: Run Anime Scraper Every Hour

on:
  schedule:
    - cron: '0 * * * *'  # â° ÙƒÙ„ Ø³Ø§Ø¹Ø© Ø¹Ù†Ø¯ Ø§Ù„Ø¯Ù‚ÙŠÙ‚Ø© ØµÙØ±
  workflow_dispatch:       # ğŸš€ ØªØ´ØºÙŠÙ„ ÙŠØ¯ÙˆÙŠ Ù…Ù† GitHub UI

jobs:
  run-script:
    runs-on: ubuntu-latest

    steps:
      - name: ğŸ§¾ Ø³Ø­Ø¨ Ø§Ù„Ù…Ø³ØªÙˆØ¯Ø¹
        uses: actions/checkout@v3

      - name: ğŸ”½ Ø¥Ø¹Ø¯Ø§Ø¯ Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.10'

      - name: ğŸ“¦ ØªØ«Ø¨ÙŠØª Ø§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª
        run: pip install cloudscraper beautifulsoup4

      - name: â–¶ï¸ ØªØ´ØºÙŠÙ„ Ø§Ù„Ø³ÙƒØ±Ø¨Øª
        env:
          ACCESS_TOKEN: ${{ secrets.ACCESS_TOKEN }}
          DISCORD_WEBHOOK_URL: ${{ secrets.DISCORD_WEBHOOK_URL }}  # âœ… ØªÙ…Ø±ÙŠØ± Ø±Ø§Ø¨Ø· Webhook
        run: python main.py
